<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM을 이용하여 버튼을 동적으로 생성하기</title>
    <!-- 
        '추가' 버튼을 누르면 "새로추가될 아이템" 문자가 추가되고,
        '삭제버튼'을 누르면 해당 row 의 문자가 삭제된다.
        삭제는 차례대로가 아닌 누른 버튼 row에 따라 삭제된다.

    -->

    <script>
        //dom은 태그를 변수로 생각하여 메모리에 저장할 수 있음.

        let count = 0; //전역변수 -> div 태그를 생성할 개수(개수는 무제한)
        
        function appendItem() { // 동적으로 추가버튼을 생성 시켜주는 함수
            count = count + 1;

            /* 
            태그 만드는 표현식)
            document.creatElement(생성할 태그명)

            


            */

            // 1. 태그 생성
           let newItem = document.createElement("div");
            // 2. 각 태그들을 구별하기 위하여 id 속성값에 연속적인 숫자를 붙임( <div id = "item_" + 생성한 번호) ex. 생성한태그정보.setAttribute("속성명","값")
            newItem.setAttribute("id","item_"+count);
            /* 
            3.텍스트노드생성
                1) createTextNode(내용작성)
                2) innerHTML속성 : 내용이 많을때 
                    <시작><종료> = <시작 />
             */
            let html_content = '새로 추가된 아이템[' + count + "]" +
            '<input type="button" value="삭제" ' +
            'onclick="removeItem('+ count +')" />';
            //4. 결합
            newItem.innerHTML=html_content;
            //5. 부모태그의 정보를 얻어온다 -> getElementById이용
            let itemListNode = document.getElementById("itemList");
            //6. 부모태그에 결합 -> 부모태그명.appendChild(자식태그명)
            itemListNode.appendChild(newItem);
        }


        function removeItem(idCount) { // 동적으로 삭제버튼을 생성 시켜주는 함수(특정한 태그를 삭제)
            // 삭제시킬 태그
            let item = document.getElementById("item_"+idCount);
            // 자식 삭제 : 부모태그명.removeChild(삭제시킬 태그명)
            // 부모태그를 얻어오는 방법2 -> 자식태그명.parentNode(부모)
            item.parentNode.removeChild(item);
        }
    </script>

</head>

<body>
    <!--     
    정적디자인 : html , css (있는 그대로를 보여주는 디자인)        
    동적디자인 : 특정 이벤트를 발생시켜서 화면에 특정한 위치에 출력시키는 방법(메모리에 저장 -> 출력)

        
    -->

    <input type="button" value="추가" onclick="appendItem()">
    <div id="itemList">
        <!--
            정적 디자인 (일일이 하나하나씩 기입해야함) 
        <div id="item_1">새로 추가될 아이템1[삭제버튼]</div>
        <div id="item_2">새로 추가될 아이템2[삭제버튼]</div>

        -->

    </div>

</html>